# Система двойной бухгалтерии для малого бизнеса

Это руководство описывает надежную, но простую систему двойной бухгалтерии, которая масштабируется вместе с вашим бизнесом. Наша цель - обеспечить точность и ясность через хорошо структурированный план счетов, журнал транзакций со строгими инвариантами и отдельные инструменты планирования.

## 1. План счетов

План счетов - это ваша финансовая дорожная карта. Каждый счет имеет уникальный код и роль:

- **Активы:** То, чем вы владеете (например, наличные, товарные запасы).
- **Обязательства:** То, что вы должны (например, кредиторская задолженность, начисленные расходы).
- **Капитал:** Вклады владельцев и нераспределенная прибыль.
- **Доходы:** Поступления от продаж или услуг.
- **Расходы:** Понесенные затраты (например, таможенные пошлины, порча, мобильная связь).

### Структура кодов счетов

Коды счетов организованы в диапазоны, отражающие их тип:
- 1000-1999: Активы (наличные, запасы, дебиторская задолженность)
- 2000-2999: Обязательства (кредиторская задолженность, займы)
- 3000-3999: Капитал (вклады партнеров, нераспределенная прибыль)
- 4000-4999: Доходы (продажи, прибыль от курсовой разницы)
- 5000-5999: Расходы (таможенные пошлины, порча, мобильная связь)

Первая цифра кода указывает на тип счета, что упрощает подготовку и анализ финансовой отчетности.

### Пример структуры счетов:

| Код   | Счет                     | Тип       | Примечания                          |
|-------|--------------------------|-----------|-------------------------------------|
| 1001  | Касса (местная валюта)   | Актив     | Средства в местной валюте           |
| 1002  | Касса USD               | Актив     | Средства в иностранной валюте       |
| 1300  | Товарные запасы          | Актив     | Сырье или готовая продукция         |
| 2001  | Кредиторская задолженность| Пассив    | Долги поставщикам                   |
| 2002  | КЗ - Поставщик A         | Пассив    | Задолженность Поставщику A          |
| 2003  | КЗ - Поставщик B         | Пассив    | Задолженность Поставщику B          |
| 3001  | Вклад Партнера A         | Капитал   | Средства, внесенные Партнером A     |
| 4001  | Прибыль от курсовой разницы| Доход    | Прибыль от обмена валюты            |
| 5001  | Таможенные расходы       | Расход    | Пошлины на импорт                   |
| 5002  | Расходы на порчу         | Расход    | Убытки от поврежденных товаров      |
| 5003  | Расходы на связь         | Расход    | Оплата услуг связи                  |

## 2. Журнал операций и инварианты

Каждая операция состоит из нескольких проводок, которые должны соответствовать трем ключевым инвариантам:

- **Инвариант баланса:** Каждая операция должна включать как минимум одну дебетовую и одну кредитовую проводку на равные суммы.
- **Инвариант полноты:** Все обязательные поля (дата, ID операции, код счета, сумма и т.д.) должны быть заполнены.
- **Инвариант единственности источника:** Каждая проводка должна появляться только один раз в операции; без дубликатов или пропусков.

### Пример базовой операции

Рассмотрим простой пример внесения денег Партнером A. Эта операция демонстрирует все инварианты.

| Дата       | ID операции | Код счета | Счет                    | Дебет (песо) | Кредит (песо) | Примечания                           |
|------------|-------------|-----------|------------------------|--------------|---------------|--------------------------------------|
| 2025-02-01 | TX001      | 1001      | Касса (местная валюта)  | 2,000        |              | Внесение наличных от Партнера A      |
| 2025-02-01 | TX001      | 3001      | Вклад Партнера A        |              | 2,000        | Регистрация вклада Партнера A        |

**Проверка инвариантов:**
- **Баланс:** Общая сумма дебета (2,000) равна общей сумме кредита (2,000).
- **Полнота:** Все поля заполнены с четкими примечаниями.
- **Единственность источника:** Операция TX001 уникально связывает обе проводки с одним событием.

## 3. Примеры конкретных операций

### 3.1 Внесение иностранной валюты в кассу

**Сценарий:** Внесение $100 в долларовую кассу по курсу 20 песо/USD; позже снятие по курсу 22 песо/USD.

#### Внесение (2025-02-01):

| Дата       | ID операции | Код счета | Счет                     | Дебет (песо) | Кредит (песо) | Сумма в валюте | Курс | Примечания                        |
|------------|-------------|-----------|-------------------------|--------------|---------------|----------------|------|-----------------------------------|
| 2025-02-01 | TX100      | 1002      | Касса USD               | 2,000        |               | $100           | 20   | Внесение по начальному курсу      |
| 2025-02-01 | TX100      | 3001      | Вклад Партнера A        |              | 2,000         |                |      | Регистрация вклада партнера       |

#### Снятие (2025-02-10):

| Дата       | ID операции | Код счета | Счет                  | Дебет (песо) | Кредит (песо) | Примечания                                |
|------------|-------------|-----------|----------------------|--------------|---------------|-------------------------------------------|
| 2025-02-10 | TX101      | 1001      | Касса (песо)         | 2,200        |               | Снятие по новому курсу (22 песо/USD)      |
| 2025-02-10 | TX101      | 1002      | Касса USD            |              | 2,000         | Списание актива по первоначальной стоимости|
| 2025-02-10 | TX101      | 4001      | Прибыль от курсовой разницы |        | 200           | Регистрация прибыли от разницы курсов     |
